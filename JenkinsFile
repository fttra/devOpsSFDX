node {
    def sfdxHome = tool 'sfdx'
           
    //username
    def HUB_ORG_DH=env.HUB_ORG_DH
    //SF org URL
    def SFDC_HOST = env.SFDC_HOST_DH
    //consumer key
    def CONNECTED_APP_CONSUMER_KEY=env.CONNECTED_APP_CONSUMER_KEY_DH
    //credentials
    def JWT_KEY_CRED_ID = env.JWT_CRED_ID_DH

    stage ('Print login info'){
    println HUB_ORG_DH
    println SFDC_HOST
    println CONNECTED_APP_CONSUMER_KEY
    println JWT_KEY_CRED_ID
    }
    
    stage('Get a record'){
    def acc = bat (returnStatus: true, script: "${sfdxHome}/sfdx force:data:record:get -s Account -i 0017Q000005CIF9")
    print acc
    }

    stage('Create a record'){
    def con = bat (returnStatus: true, script: "${sfdxHome}/sfdx force:data:record:create -s Contact -v Name='Fuck My Life')
    if (con!=0)
    {
    print "Big success"
    } else {
    "You are miserable"
    }
    }
    
}
